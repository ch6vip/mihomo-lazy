# 极简版 Clash 配置
mixed-port: 7890
allow-lan: false
mode: rule
log-level: info
ipv6: false
unified-delay: true

# 控制面板
external-controller: 127.0.0.1:9090
secret: ""
external-ui-name: zashboard
external-ui: "./ui"
external-ui-url: "https://gh-proxy.comz/https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip"

geo-update-interval: 24
geox-url:
  geoip: https://gh-proxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip-lite.dat
  geosite: https://gh-proxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geosite.dat
  mmdb: https://gh-proxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/geoip.metadb
  asn: https://gh-proxy.com/https://github.com/MetaCubeX/meta-rules-dat/releases/download/latest/GeoLite2-ASN.mmdb

# TUN
tun:
  enable: false # 修改为false，由面板来切换是否开启tun  



# DNS
dns:
  enable: true
  ipv6: false
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 223.5.5.5
    - 119.29.29.29

#机场订阅全局设置
pp: &pp
  type: http
  interval: 3600
  health-check:
    enable: true
    url: https://www.gstatic.com/generate_204
    interval: 900
    timeout: 3000
    lazy: true
    expected-status: 204

# 订阅配置
proxy-providers:
  机场1:
    <<: *pp
    url: "订阅链接"
    path: ./providers/机场1.yaml
  
  机场2:
    <<: *pp
    url: "订阅链接"
    path: ./providers/机场2.yaml

  机场3:
    <<: *pp
    url: "订阅链接"
    path: ./providers/机场3.yaml

  机场4:
    <<: *pp
    url: "订阅链接"
    path: ./providers/机场4.yaml

  机场5:
    <<: *pp
    url: "订阅链接"
    path: ./providers/机场5.yaml

#代理组全局设置
pg: &pg
    interval: 300
    lazy: true
    timeout: 3000
    max-failed-times: 5
    expected-status: 204
    url: 'https://www.gstatic.com/generate_204'
#代理组
proxy-groups:
  - name: 🚀 代理
    type: select
    proxies:
      - 📦 机场1
      - 📦 机场2
      - 📦 机场3
      - 📦 机场4
      - 📦 机场5
      - DIRECT
  
  - name: 📦 机场1
    <<: *pg
    type: select
    use:
      - 机场1
  
  - name: 📦 机场2
    <<: *pg
    type: select
    use:
      - 机场2

  - name: 📦 机场3
    <<: *pg
    type: select
    use:
      - 机场3

  - name: 📦 机场4
    <<: *pg
    type: select
    use:
      - 机场4

  - name: 📦 机场5
    <<: *pg
    type: select
    use:
      - 机场5
#---------------------自定义分流规则------------------------------
  - name: 广告
    type: select
    proxies:
      - REJECT
      - PASS
#-------------------------------------------------------------------
rule-providers:

  秋风广告规则:
    type: http
    behavior: classical
    format: yaml
    path: ./rule_providers/AWAvenue-Ads-Rule-Clash.yaml
    url: "https://raw.githubusercontent.com/TG-Twilight/AWAvenue-Ads-Rule/refs/heads/main/Filters/AWAvenue-Ads-Rule-Clash-Classical.yaml"
    interval: 86400

rules:
  - DOMAIN-SUFFIX,proxy.com,DIRECT
  - DOMAIN-SUFFIX,local,DIRECT
  - IP-CIDR,127.0.0.0/8,DIRECT
  - IP-CIDR,192.168.0.0/16,DIRECT
  - IP-CIDR,10.0.0.0/8,DIRECT
  - IP-CIDR,172.16.0.0/12,DIRECT
  - RULE-SET,秋风广告规则,广告
  - GEOIP,CN,DIRECT
  - MATCH,🚀 选择
